ARM GAS  /tmp/cc0HwBJb.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/bsp/main.c"
  18              		.section	.text.main,"ax",%progbits
  19              		.align	1
  20              		.global	main
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	main:
  26              	.LFB68:
   1:Core/bsp/main.c **** /**
   2:Core/bsp/main.c ****  **************************************************************************************************
   3:Core/bsp/main.c ****  * @file        main.c
   4:Core/bsp/main.c ****  * @author      正点原子团队(ALIENTEK)
   5:Core/bsp/main.c ****  * @version     V1.0
   6:Core/bsp/main.c ****  * @date        2020-04-20
   7:Core/bsp/main.c ****  * @brief       独立看门狗 实验
   8:Core/bsp/main.c ****  * @license     Copyright (c) 2020-2032, 广州市星翼电子科技有限公司
   9:Core/bsp/main.c ****  **************************************************************************************************
  10:Core/bsp/main.c ****  * @attention
  11:Core/bsp/main.c ****  *
  12:Core/bsp/main.c ****  * 实验平台:正点原子 STM32F103开发板
  13:Core/bsp/main.c ****  * 在线视频:www.yuanzige.com
  14:Core/bsp/main.c ****  * 技术论坛:www.openedv.com
  15:Core/bsp/main.c ****  * 公司网址:www.alientek.com
  16:Core/bsp/main.c ****  * 购买地址:openedv.taobao.com
  17:Core/bsp/main.c ****  *
  18:Core/bsp/main.c ****  **************************************************************************************************
  19:Core/bsp/main.c ****  */
  20:Core/bsp/main.c **** 
  21:Core/bsp/main.c **** #include "sys.h"
  22:Core/bsp/main.c **** #include "usart.h"
  23:Core/bsp/main.c **** #include "delay.h"
  24:Core/bsp/main.c **** #include "led.h"
  25:Core/bsp/main.c **** #include "wdg.h"
  26:Core/bsp/main.c **** #include "key.h"
  27:Core/bsp/main.c **** 
  28:Core/bsp/main.c **** 
  29:Core/bsp/main.c **** int main(void)
  30:Core/bsp/main.c **** {
  27              		.loc 1 30 1 view -0
  28              		.cfi_startproc
ARM GAS  /tmp/cc0HwBJb.s 			page 2


  29              		@ Volatile: function does not return.
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  31:Core/bsp/main.c ****     sys_stm32_clock_init(9);    /* 设置时钟, 72Mhz */
  37              		.loc 1 31 5 view .LVU1
  38 0002 0920     		movs	r0, #9
  39 0004 FFF7FEFF 		bl	sys_stm32_clock_init
  40              	.LVL0:
  32:Core/bsp/main.c ****     delay_init(72);             /* 延时初始化 */
  41              		.loc 1 32 5 view .LVU2
  42 0008 4820     		movs	r0, #72
  43 000a FFF7FEFF 		bl	delay_init
  44              	.LVL1:
  33:Core/bsp/main.c ****     usart_init(72, 115200);     /* 串口初始化为115200 */
  45              		.loc 1 33 5 view .LVU3
  46 000e 4FF4E131 		mov	r1, #115200
  47 0012 4820     		movs	r0, #72
  48 0014 FFF7FEFF 		bl	usart_init
  49              	.LVL2:
  34:Core/bsp/main.c ****     led_init();                 /* 初始化LED */
  50              		.loc 1 34 5 view .LVU4
  51 0018 FFF7FEFF 		bl	led_init
  52              	.LVL3:
  35:Core/bsp/main.c ****     key_init();                 /* 初始化按键 */
  53              		.loc 1 35 5 view .LVU5
  54 001c FFF7FEFF 		bl	key_init
  55              	.LVL4:
  36:Core/bsp/main.c ****     delay_ms(100);              /* 延时100ms再初始化看门狗,LED0的变化"可见" */
  56              		.loc 1 36 5 view .LVU6
  57 0020 6420     		movs	r0, #100
  58 0022 FFF7FEFF 		bl	delay_ms
  59              	.LVL5:
  37:Core/bsp/main.c ****     iwdg_init(4, 625);          /* 预分频数为64,重载值为625,溢出时间为1s */
  60              		.loc 1 37 5 view .LVU7
  61 0026 40F27121 		movw	r1, #625
  62 002a 0420     		movs	r0, #4
  63 002c FFF7FEFF 		bl	iwdg_init
  64              	.LVL6:
  38:Core/bsp/main.c ****     LED0(0);                    /* 点亮LED0(红灯) */
  65              		.loc 1 38 5 view .LVU8
  66 0030 0022     		movs	r2, #0
  67 0032 2021     		movs	r1, #32
  68 0034 0748     		ldr	r0, .L6
  69 0036 FFF7FEFF 		bl	sys_gpio_pin_set
  70              	.LVL7:
  71 003a 04E0     		b	.L3
  72              	.L5:
  39:Core/bsp/main.c **** 
  40:Core/bsp/main.c ****     while (1)
  41:Core/bsp/main.c ****     {
  42:Core/bsp/main.c ****         if (key_scan(1) == WKUP_PRES) /* 如果WK_UP按下,则喂狗 */
  43:Core/bsp/main.c ****         {
ARM GAS  /tmp/cc0HwBJb.s 			page 3


  44:Core/bsp/main.c ****             iwdg_feed();    /* 喂狗 */
  73              		.loc 1 44 13 view .LVU9
  74 003c FFF7FEFF 		bl	iwdg_feed
  75              	.LVL8:
  76              	.L2:
  45:Core/bsp/main.c ****         }
  46:Core/bsp/main.c **** 
  47:Core/bsp/main.c ****         delay_ms(10);
  77              		.loc 1 47 9 view .LVU10
  78 0040 0A20     		movs	r0, #10
  79 0042 FFF7FEFF 		bl	delay_ms
  80              	.LVL9:
  40:Core/bsp/main.c ****     {
  81              		.loc 1 40 11 view .LVU11
  82              	.L3:
  40:Core/bsp/main.c ****     {
  83              		.loc 1 40 5 view .LVU12
  42:Core/bsp/main.c ****         {
  84              		.loc 1 42 9 view .LVU13
  42:Core/bsp/main.c ****         {
  85              		.loc 1 42 13 is_stmt 0 view .LVU14
  86 0046 0120     		movs	r0, #1
  87 0048 FFF7FEFF 		bl	key_scan
  88              	.LVL10:
  42:Core/bsp/main.c ****         {
  89              		.loc 1 42 12 view .LVU15
  90 004c 0428     		cmp	r0, #4
  91 004e F5D0     		beq	.L5
  92 0050 F6E7     		b	.L2
  93              	.L7:
  94 0052 00BF     		.align	2
  95              	.L6:
  96 0054 000C0140 		.word	1073810432
  97              		.cfi_endproc
  98              	.LFE68:
 100              		.text
 101              	.Letext0:
 102              		.file 2 "/opt/st/stm32cubeclt_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/machine/_default_ty
 103              		.file 3 "/opt/st/stm32cubeclt_1.16.0/GNU-tools-for-STM32/arm-none-eabi/include/sys/_stdint.h"
 104              		.file 4 "CMSIS/Device/stm32f103xe.h"
 105              		.file 5 "Core/system/sys.h"
 106              		.file 6 "Core/bsp/wdg.h"
 107              		.file 7 "Core/system/delay.h"
 108              		.file 8 "Core/bsp/key.h"
 109              		.file 9 "Core/bsp/led.h"
 110              		.file 10 "Core/system/usart.h"
ARM GAS  /tmp/cc0HwBJb.s 			page 4


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
     /tmp/cc0HwBJb.s:19     .text.main:00000000 $t
     /tmp/cc0HwBJb.s:25     .text.main:00000000 main
     /tmp/cc0HwBJb.s:96     .text.main:00000054 $d

UNDEFINED SYMBOLS
sys_stm32_clock_init
delay_init
usart_init
led_init
key_init
delay_ms
iwdg_init
sys_gpio_pin_set
iwdg_feed
key_scan
